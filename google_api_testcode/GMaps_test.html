<!DOCTYPE html>
<html>

  <head>

    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDkaQkkgEx6ygKgvTfTiH8uj5t9ZVQgN6E&callback=initMap">
    </script>
    <script src="gmaps.js"></script>

    <style>
      #map {
        height: 400px;
        width: 100%;
       }
    </style>

  </head>

  <body>
    <h3>My Google Maps Demo</h3>

    <div id="map"></div>

    <script>
      function initMap() {

        // default location that map centers on at start-up
        var la_default = {lat: 34.0073707, lng: -118.3511962};

        // an array of locations that i'm trying to loop through
        var incident_locations = [ {lat: 34.0129665, lng: -118.49521019999997}, {lat: 34.0581136, lng: -118.41948809999997}, {lat: 34.072164, lng: -118.35838100000001}, {lat: 34.0544694, lng: -118.2505582}, {lat: 33.9415889, lng: -118.40852999999998} ]

        // sets up map with intial centered location and zoom level
        var map = new GMaps({
          div: "#map",
          zoom: 11,
          center: la_default
        });

        // adds marker to map for to each incident location

        incident_locations.forEach(function(inc, i){
          map.addMarker({
            lat: inc.lat,
            lng: inc.lng,
            title: i,
            map: map,
            infoWindow: {
              content: `<p>This is the description of incident # ${i + 1}</p>`
            }
          })
        })

      }
    </script>

  </body>
</html>
